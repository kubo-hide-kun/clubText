 
1.04 四則演算
===
## キーポイント
- 文字列と数字の違いは瑩山ができるか否か。
- `%d`や`%lf`を使うことで`" "`の後の`,`以下の数値を表示することが可能。
- 一つのprintf関数に複数の数値を表示させる場合、出力される順番はそれぞれの順番に対応する。
- 数値を0で割ったり、0で割った余りを求めようとするとエラーが発生する。
- 割り算の結果を整数で表示しようとすると小数点以下は四捨五入でなく、すべて切り捨てられる。


|演算子|計算内容|
|---|---|
|+|足し算|
|-|引き算|
|*|掛け算|
|/|割り算|
|%|割った余り|


|優先順位|高い|低い|
|---|---|---|
|演算子|`*`,`/`,`%`|`+`,`-`|

|エスケープシーケンス|値の扱い|
|---|---|
|`%d`|整数|
|`%lf`|浮動小数点表示|

## 本編
### 数字を出力しよう
以下のようなプログラムを動かしてみましょう。

```c
#include<stdio.h>
int main(void){
    printf(Hello World!);
    return 0;
}
```

これを実行するとエラーを吐いてしまいます。
それは`()`内の`Hello World!`が`""`で囲まれていないため文字列として認識されずエラーを吐いてしまうのです。<br><br>

それでは次に以下のようなプログラムを動かしてみましょう。

```c
#include<stdio.h>
int main(void){
    printf("%d",57);
    return 0;
}
```

これを実行すると以下のように表示される。

```
> 57
```

ということで`"%d"`という`57`とは全く関係のない数値が表示されました。<br>
1番最初のプログラムは動かなかったのにも関わらず、なぜこちらのプログラムは動いたのでしょうか？<br><br>

理由は`%d`という文字が後ろの`,`以降の数字を表示するという機能を持っているからです。<br>
そして、`,`以降のこの`57`という数字がプログラム上では **数字** として処理されているからです。<br>
具体的な内容としては

- `"57"`と書いた場合、これは`5`と`7`という二つの文字を組み合わせた文字列と処理される。
- `57` と書いた場合、これは`57`という数字として処理される。

というものです。<br>

### 数字と文字列の違い
それでは数字と文字列ではどこに違いがあるのでしょう。<br>
それを知るために以下のプログラムを見ていきましょう。<br>

```C
#include<stdio.h>
int main(void){
    printf("37+57");
    return 0;
}
```

これを実行すると以下のように表示されます。

```
> 37+57
```

それでは、次に以下のようにプログラムを書き換えて実行しましょう。

```C
#include<stdio.h>
int main(void){
    printf("%d",37+57);
    return 0;
}
```

先程との違いは`""`内に`%d`という記号が入り、その後ろには`,`と`37+57`があります。<br>
それでは実行結果はこちらです。

```
> 94
```

これの出力結果である`97`とは`37+57`の演算結果です。<br>
つまり、 **文字列** と **数字** の違いは<br>
#### 演算できるか否か
ということだったのです。<br>

### 四則演算

|演算子|計算内容|
|---|---|
|+|足し算|
|-|引き算|
|*|掛け算|
|/|割り算|
|%|割った余り|

上の表の演算子を使えば基本的な計算は可能です。<br>
それでは上の表をもとに以下のプログラムを実行しましょう。

```c
#include <stdio.h>
int main(void){
    printf("%d\n",5+7);
    printf("%d\n",19-14);
    printf("%d\n",3*21);
    prtinf("%d\n",23/4);
    printf("%d\n",8%3);
    return 0;
}
```

これを実行すると以下のような実行結果になります。

```
> 12
> 5
> 63
> 5
> 2
>
```

それぞれ一行ずつ見ていきましょう。<br>

```c
printf("%d\n",5+7);
```

ここは言わずもがな単純な足し算です。<br>
特筆して話すことはないでしょう。<br>
(`\n`があることにより改行されている)<br>

```C
printf("%d\n",19-14);
```

これも単純引き算です。

```c
pritnf("%d\n",5-19);
```

ちなみにこれを実行すると

```
> -14
```
という風に出力され負の値にも対応していることが分かります。

```c
printf("%d\n",3*21);
```

これも単純な掛け算です。

```c
prtinf("%d\n",23/4);
```

これも単純な割り算ですが、この場合だと`5`と出力されます。<br>
実際に少数点まで考慮するとこの解は`5.75`ですが、<br>
この場合だと **小数点切り捨て** なので小数点以下は問答無用で切り捨てられます。<br>
四捨五入ではないので`2.9999`であっても、3にはならず`2`という風になります。

```c
printf("%d\n",8%3);
```

普段習っている数学では余りとか扱わないので使うのは小学生の頃以来かもしれません。<br>
ですが、プログラムを書く際この余りを求める計算式を利用することは多いです。<br>
今回の場合は8は3で2回割り切れ、その余りは2という風な流れです。

### 演算子の優先順位
演算子には **優先順位** があります。
例えば、`1+3*4`を計算すると、先に`3*4`が計算され、`1`が後に足され、結果が`13`になります。<br>
`1+3*4 ⇒ 1+12 ⇒ 13`<br>
すなわち、`*`は`+`よりも優先順位が高いということです。<br>
プログラミングでの算術演算子の優先順位は、一般的に数学の優先順位と同じです。<br>
因みに、`%`は`*`や`/`と同じになります。

|優先順位|高い|低い|
|---|---|---|
|演算子|`*`,`/`,`%`|`+`,`-`|

そして、数学同様`( )`を使うことで計算の優先順位を変化させることができます。

```c
#include <stdio.h>
int main(void){
    printf("%d",(1+2)*5);
    return 0;
}
```

```
> 15
```

`( )`内の処理が優先されるので`(1+2)*5 ⇒ 3*5 ⇒ 15`という風になります。

### 除算の順序
除算の計算をする場合、小数点以下の切り捨てを行うタイミングで結果に差が生まれてしまうことがあります。

- `5/2*2`⇒`2*2`⇒`4`
- `5*2/2`⇒`10/2`⇒`5`

この違いによるエラーはよくあるので間違えないように気を付けましょう。

### ゼロ除算
プログラムにおける実行時エラーの原因の一つです。<br>

```c
printf("%d",3/0);
```

以下のような場合もエラーを吐きます

```c
printf("%d",3%0);
```

### 小数点の表現

```c
#include <stdio.h>
int main(void){
    prtinf("%d\n",23/4);
    return 0;
}
```

以上のようなプログラムを実行すると出力される値は小数点以下を切り捨てた数値です。<br>
ただ、プログラミングを行う上でどうしても小数点以下も正確に表現したいという場合が多々あります。<br>
その場合は以下のようにソースコードを書き替えましょう。

```c
#include <stdio.h>
int main(void){
    prtinf("%lf\n",23/4);
    return 0;
}
```

こうすることで

```
> 5.75
>
```

という風に表示されます。<br>
これは`" "`内の文字が関係しています。<br>
そもそもですが`" "`内の`%d`,`%lf`はいずれも`,`以降の数値を代入して表示する機能を持っています。<br>
そして、この`%d`と`%lf`の違いは受け取るのが **整数** か **小数** かなのかということです。

|指定子|値の扱い|
|---|---|
|`%d`|整数|
|`%lf`|浮動小数点表示|

※浮動小数点表示：「夜の章」で詳しく解説しますが、簡単に言うと小数点以下も表示することのできる数値の表示方法です。

### 複数の数値の出力
```
> 0:1
> 1:1
> 2:2
> 3:3
> 4:5
> 5:8
> 6:13
> 7:21
> 8:34
> 9:55
>
```

このようなに出力したい場合、今まで習った知識だと以下のように書く必要があります。

```c
#include <stdio.h>
int main(void){
    printf("%d:",0);
    printf("%d\n",1);
    printf("%d:",1);
    printf("%d\n",1);
    printf("%d:",2);
    printf("%d\n",2);
    printf("%d:",3);
    printf("%d\n",3);
    printf("%d:",4);
    printf("%d\n",5);
    printf("%d:",5);
    printf("%d\n",8);
    printf("%d:",6);
    printf("%d\n",13);
    printf("%d:",7);
    printf("%d\n",21);
    printf("%d:",8);
    printf("%d\n",34);
    printf("%d:",9);
    printf("%d\n",55);
    return 0;
}
```

これは非常に面倒ですね。<br>
もし、一つのprintf関数に複数の数値を入力できるようになれば実際にプログラムを書く量は大幅に減ります。<br>
で、そのやり方は以下のようになります。

```c
#include <stdio.h>
int main(void){
    printf("%d:%d\n",0,1);
    printf("%d:%d\n",1,1);
    printf("%d:%d\n",2,2);
    printf("%d:%d\n",3,3);
    printf("%d:%d\n",4,5);
    printf("%d:%d\n",5,8);
    printf("%d:%d\n",6,13);
    printf("%d:%d\n",7,21);
    printf("%d:%d\n",8,34);
    printf("%d:%d\n",9,55);
    return 0;
}
```

では、やり方を詳しく解説していきましょう。

```c
printf("%d:%d\n",0,1);
```

まず注目してほしいのは`" "`内です、この中には`%d`が二つあるのが分かります。<br>
つまり、これらの`%d`それぞれは`,`以下の値を受け取ります。<br>
その受け取る値は`" "`以下の`,`以下の数値を1セットとして順番通りに対応します。

```c
printf("1番:%d\n2番:%d\n3番:%d\n4番:%d\n",10,20,30,40);
```

このプログラムの実行結果は以下のようになります。

```
> 1番:10
> 2番:20
> 3番:30
> 4番:40
>
```